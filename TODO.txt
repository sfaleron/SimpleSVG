
Wouldn't want to parse xml, whatever for? It wouldn't be so awful to create a structure from already-parsed xml, though!

Removing layers need not be irreversable, keep track of them in the root node

Symbol element is a straightforward complement to Defs?

SVG spec has a few categories, but MDN might be better
https://developer.mozilla.org/en-US/docs/Web/SVG/Element#SVG_elements_by_category

Test: copy, EmbedStack, freeze_attrs

decorations might include
  right angle symbol
    works like arc
  perpedicular bars terminating segments
    work like ticks

  text aligned/centered wrt two points, with a perpendicular offset parameter.
  segment labels suggest point labels. got some of those already, shift em over!
